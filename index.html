<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Mobile Calendar</title>
<style>
:root {
  --bg:#0b0d16;
  --glass:rgba(255,255,255,0.06);
  --blur:20px;
  --radius:18px;
  --text:#fff;
  --accent:#4a6cfa;
  --accent2:#9a4aff;
}
body{margin:0;background:var(--bg);font-family:system-ui;color:var(--text);overflow:hidden;height:100vh;}
.container{display:flex;flex-direction:column;height:100vh;}

/* Header */
.header{padding:16px;background:var(--glass);backdrop-filter:blur(var(--blur));display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:800;}

/* Unified toggle button */
.toggle-btn{position:absolute;right:16px;top:14px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;justify-content:center;align-items:center;font-size:22px;box-shadow:0 0 20px rgba(0,0,0,0.4);transition:0.25s;}
.toggle-btn:active{transform:scale(0.88);} 

/* Views */
.view{flex:1;overflow-y:auto;padding:16px;display:none;}
.view.active{display:block;}

/* Calendar */
.month-switch{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;}
.switch-arrow{width:42px;height:42px;border-radius:var(--radius);background:var(--glass);backdrop-filter:blur(var(--blur));display:flex;justify-content:center;align-items:center;font-size:20px;}
.month-name{font-size:22px;font-weight:800;}

.days-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;}
.day{aspect-ratio:1;display:flex;justify-content:center;align-items:center;border-radius:14px;background:var(--glass);backdrop-filter:blur(var(--blur));position:relative;font-weight:700;}

/* dot for tasks */
.day.has::after{
  content:"";
  width:8px;height:8px;
  border-radius:50%;
  background:#4affb9;
  position:absolute;
  bottom:6px;
  box-shadow:0 0 6px #4affb9;
}
.day.today{outline:2px solid var(--accent);} 

/* Tasks */
.tasks{display:flex;flex-direction:column;gap:12px;margin-top:16px;}
.task-card{background:var(--glass);backdrop-filter:blur(var(--blur));padding:14px;border-radius:var(--radius);} 
.client-name{font-size:18px;font-weight:800;}
.car{font-size:14px;opacity:0.7;margin-top:4px;}
.time-tag{padding:8px 10px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:12px;font-size:14px;font-weight:700;display:inline-block;margin-top:8px;}
.price{margin-top:12px;padding:10px;border-radius:12px;font-size:18px;font-weight:900;text-align:center;background:#222;}

/* Earnings */
.earn-box{margin-top:18px;background:var(--glass);backdrop-filter:blur(var(--blur));padding:14px;border-radius:var(--radius);font-size:16px;line-height:1.4;}
.earn-title{font-weight:800;margin-bottom:6px;font-size:18px;}

/* Chart view */
.chart-wrap{width:100%;height:240px;display:flex;justify-content:center;align-items:center;background:var(--glass);backdrop-filter:blur(var(--blur));border-radius:var(--radius);} 
canvas{max-height:220px !important;} 

/* Modal */
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.5);backdrop-filter:blur(4px);display:none;justify-content:center;align-items:center;}
.modal{width:88%;background:var(--glass);backdrop-filter:blur(var(--blur));padding:16px;border-radius:var(--radius);} 
.input{width:100%;margin-bottom:12px;padding:12px;border-radius:12px;background:#111;border:none;color:white;}
.btn{width:100%;padding:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));border-radius:12px;text-align:center;font-weight:800;margin-top:8px;} 
</style>
</head>
<body>
<div class="container">

  <div class="header">–ì—Ä–∞—Ñ–∏–∫</div>
  <div class="toggle-btn" id="toggle">üìÖ</div>

  <!-- Calendar View -->
  <div class="view active" id="calendar-view">

    <div class="month-switch">
      <div class="switch-arrow" id="prevMonth">‚ùÆ</div>
      <div class="month-name" id="monthName">–ú–∞—Ä—Ç 2025</div>
      <div class="switch-arrow" id="nextMonth">‚ùØ</div>
    </div>

    <div class="days-grid" id="daysGrid"></div>

    <div class="earn-box">
      <div class="earn-title">–î–æ—Ö–æ–¥</div>
      <div>–ó–∞ –≤—Å—ë –≤—Ä–µ–º—è: <span id="earnAll">0 ‚ÇΩ</span></div>
      <div>–ó–∞ –º–µ—Å—è—Ü: <span id="earnMonth">0 ‚ÇΩ</span></div>
      <div>–ó–∞ –¥–µ–Ω—å: <span id="earnDay">0 ‚ÇΩ</span></div>
    </div>

    <div class="tasks" id="tasksList"></div>
  </div>

  <!-- Chart View -->
  <div class="view" id="chart-view">
    <div class="chart-wrap">
      <canvas id="incomeChart"></canvas>
    </div>
  </div>

</div>

<!-- Modal -->
<div class="modal-bg" id="modalBg">
  <div class="modal">
    <input class="input" id="clientName" placeholder="–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞">
    <input class="input" id="carModel" placeholder="–ú–∞—à–∏–Ω–∞">
    <input class="input" id="time" placeholder="–í—Ä–µ–º—è (12:00)">
    <input class="input" id="price" placeholder="–¶–µ–Ω–∞ (4500)">
    <div class="btn" id="saveRecord">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</div>
  </div>
</div>

<script>
let onCalendar = true;
const toggle=document.getElementById("toggle");
const calendarView=document.getElementById("calendar-view");
const chartView=document.getElementById("chart-view");

toggle.onclick=()=>{
  onCalendar = !onCalendar;
  calendarView.classList.toggle("active", onCalendar);
  chartView.classList.toggle("active", !onCalendar);
  toggle.textContent = onCalendar ? "üìÖ" : "üìä";
};

/* Calendar generation */
const daysGrid=document.getElementById("daysGrid");
let year=2025,month=2; // March
function renderCal(){
  daysGrid.innerHTML="";
  const d=new Date(year,month,1);
  const monthName=d.toLocaleString('ru',{month:'long'})+" "+year;
  document.getElementById("monthName").textContent=monthName;
  const days=new Date(year,month+1,0).getDate();

  for(let i=1;i<=days;i++){
    const el=document.createElement("div");
    el.className="day";
    el.textContent=i;
    if(Math.random()>0.7) el.classList.add("has");
    daysGrid.appendChild(el);
  }
}
renderCal();
document.getElementById("prevMonth").onclick=()=>{month--;renderCal();};
document.getElementById("nextMonth").onclick=()=>{month++;renderCal();};
</script>
</body>
</html>
